{"version":3,"file":"WalletConnectButton.js","names":["_react","_interopRequireWildcard","require","_reactOutsideClickHandler","_interopRequireDefault","_provider","_utils","_allFiles","_IoWalletOutline","_IoLogOutOutline","_IoCopyOutline","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","truncateAddress","address","concat","slice","length","exports","WalletConnectButton","_ref","buttonClassName","primaryColor","secondaryColor","backgroundColor","_useState","useState","_useState2","_slicedToArray2","showMenu","setShowMenu","_useState3","_useState4","recentlyCopied","setRecentlyCopied","_useContext","useContext","SeiWalletContext","connectedWallet","accounts","setTargetWallet","setShowConnectModal","useEffect","color","isValidCSSColor","document","documentElement","style","setProperty","changeWallet","copyAddress","_ref2","_asyncToGenerator2","_regenerator","mark","_callee","_accounts$","wrap","_callee$","_context","prev","next","navigator","clipboard","writeText","setTimeout","stop","apply","arguments","disconnect","undefined","renderButton","createElement","className","onClick","accountLabel","disabled","onOutsideClick","IoCopyOutline","IoWalletOutline","IoLogOutOutline","Fragment","IconContext","Provider","value","size","_default"],"sources":["../../../../src/lib/components/WalletConnectButton/WalletConnectButton.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport { SeiWalletContext } from '../../provider';\nimport { WalletConnectButtonProps } from './types';\nimport './styles.css';\nimport { isValidCSSColor } from '../../utils';\nimport { IconContext } from '@react-icons/all-files';\nimport { IoWalletOutline } from '@react-icons/all-files/io5/IoWalletOutline';\nimport { IoLogOutOutline } from '@react-icons/all-files/io5/IoLogOutOutline';\nimport { IoCopyOutline } from '@react-icons/all-files/io5/IoCopyOutline';\n\nexport const truncateAddress = (address: string) => `${address.slice(0, 3)}....${address.slice(address.length - 5)}`;\n\nconst WalletConnectButton = ({ buttonClassName, primaryColor, secondaryColor, backgroundColor }: WalletConnectButtonProps) => {\n\tconst [showMenu, setShowMenu] = useState<boolean>(false);\n\tconst [recentlyCopied, setRecentlyCopied] = useState<boolean>(false);\n\n\tconst { connectedWallet, accounts, setTargetWallet, setShowConnectModal } = useContext(SeiWalletContext);\n\n\tuseEffect(() => {\n\t\tconst color = primaryColor && isValidCSSColor(primaryColor) ? primaryColor : '#121212';\n\t\tdocument.documentElement.style.setProperty('--wallet-primary-color', color);\n\t\tdocument.documentElement.style.setProperty('--wallet-primary-color-11', `${color}11`);\n\t\tdocument.documentElement.style.setProperty('--wallet-primary-color-22', `${color}22`);\n\t\tdocument.documentElement.style.setProperty('--wallet-primary-color-33', `${color}33`);\n\t\tdocument.documentElement.style.setProperty('--wallet-primary-color-44', `${color}44`);\n\t}, [primaryColor]);\n\n\tuseEffect(() => {\n\t\tconst color = secondaryColor && isValidCSSColor(secondaryColor) ? secondaryColor : '#8C8C8C';\n\t\tdocument.documentElement.style.setProperty('--wallet-secondary-color', color);\n\t}, [secondaryColor]);\n\n\tuseEffect(() => {\n\t\tconst color = backgroundColor && isValidCSSColor(backgroundColor) ? backgroundColor : '#F1F1F1';\n\t\tdocument.documentElement.style.setProperty('--wallet-background-color', color);\n\t}, [backgroundColor]);\n\n\tconst changeWallet = () => {\n\t\tsetShowMenu(false);\n\t\tsetShowConnectModal(true);\n\t};\n\n\tconst copyAddress = async () => {\n\t\tsetRecentlyCopied(true);\n\t\tawait navigator.clipboard.writeText(accounts?.[0]?.address);\n\t\tsetTimeout(() => {\n\t\t\tsetRecentlyCopied(false);\n\t\t}, 1500);\n\t};\n\n\tconst disconnect = () => {\n\t\tif (setTargetWallet) setTargetWallet(undefined);\n\t};\n\n\tconst renderButton = () => {\n\t\tif (!connectedWallet) {\n\t\t\treturn (\n\t\t\t\t<button className={buttonClassName} onClick={() => setShowConnectModal(true)}>\n\t\t\t\t\tconnect wallet\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tconst accountLabel = accounts?.[0] === undefined ? 'connecting...' : truncateAddress(accounts[0].address);\n\n\t\treturn (\n\t\t\t<div className='connect_wrapper'>\n\t\t\t\t<button disabled={showMenu} className={buttonClassName} onClick={() => setShowMenu(true)}>\n\t\t\t\t\t{accountLabel}\n\t\t\t\t</button>\n\t\t\t\t{showMenu && (\n\t\t\t\t\t<OutsideClickHandler onOutsideClick={() => setShowMenu(false)}>\n\t\t\t\t\t\t<div className='wallet__menu'>\n\t\t\t\t\t\t\t{accounts && (\n\t\t\t\t\t\t\t\t<div className='wallet__menu--item' onClick={copyAddress}>\n\t\t\t\t\t\t\t\t\t<IoCopyOutline className='wallet__menu--item-icon' />\n\t\t\t\t\t\t\t\t\t<span>{recentlyCopied ? 'copied' : 'copy address'}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className='wallet__menu--item' onClick={changeWallet}>\n\t\t\t\t\t\t\t\t<IoWalletOutline className='wallet__menu--item-icon' />\n\t\t\t\t\t\t\t\t<span>change wallet</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='wallet__menu--item' onClick={disconnect}>\n\t\t\t\t\t\t\t\t<IoLogOutOutline className='wallet__menu--item-icon' />\n\t\t\t\t\t\t\t\t<span>disconnect</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</OutsideClickHandler>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconContext.Provider value={{ color: 'var(--wallet-primary-color)', size: '50px' }}>{renderButton()}</IconContext.Provider>\n\t\t</>\n\t);\n};\n\nexport default WalletConnectButton;\n"],"mappings":"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"}